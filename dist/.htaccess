# Enable Rewrite Engine
RewriteEngine On

# Redirect all requests to index.html
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^ index.html [L]

# Set Cache Control Headers
<IfModule mod_headers.c>
  
    # Disable caching for dynamic files
    <FilesMatch "\.(php|cgi|pl|htm|shtml)$">
        Header set Cache-Control "no-cache, no-store, must-revalidate"
        Header set Pragma "no-cache"
        Header set Expires 0
    </FilesMatch>
</IfModule>

# Handle CORS (Cross-Origin Resource Sharing)
<IfModule mod_headers.c>
    Header set Access-Control-Allow-Origin "*"
    Header set Access-Control-Allow-Methods "GET,POST,OPTIONS,DELETE,PUT"
    Header set Access-Control-Allow-Headers "Content-Type, Authorization"
</IfModule>

# Fallback for 404 errors
ErrorDocument 404 /index.html
